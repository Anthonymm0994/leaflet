import{p as m,C as b,c as f,o as v,j as a,G as r,ah as k,a as p,k as n,a2 as g,ak as u,t as y}from"./chunks/framework.DM5DyJ2q.js";import{w as c,a as e,b3 as d,aI as C,l as B,M as q,j as x,bZ as F,b4 as E}from"./chunks/theme.C_36pXDy.js";import{a as l}from"./chunks/aapl.CbpPDFPg.js";const _={class:"label-input"},P={style:{"font-variant-numeric":"tabular-nums"}},w={class:"label-input"},T={style:{"font-variant-numeric":"tabular-nums"}},I=JSON.parse('{"title":"Map transform","description":"","frontmatter":{},"headers":[],"relativePath":"transforms/map.md","filePath":"transforms/map.md"}'),Y={name:"transforms/map.md"},N=Object.assign(Y,{setup(j){const i=m(20),t=m(2);return(S,s)=>{const h=b("PlotRender");return v(),f("div",null,[s[4]||(s[4]=a("h1",{id:"map-transform",tabindex:"-1"},[p("Map transform "),a("a",{class:"header-anchor",href:"#map-transform","aria-label":'Permalink to "Map transform"'},"​")],-1)),s[5]||(s[5]=a("p",null,[p("The "),a("strong",null,"map transform"),p(" groups data into series and then transforms each series’ values, say to normalize them relative to some basis or to apply a moving average. For example, below the map transform computes a cumulative sum ("),a("em",null,"cumsum"),p(") of a series of random numbers sampled from a normal distribution — in other words, a random walk.")],-1)),r(h,{options:{marks:[c([0]),e({length:600},d("cumsum",{y:C.source(B(42))()}))]}},null,8,["options"]),s[6]||(s[6]=k("",3)),r(h,{options:{marks:[c([0,1]),e(n(l),d("quantile",{x:"Date",y:"Volume",strokeOpacity:.2})),e(n(l),q(30,d("quantile",{x:"Date",y:"Volume"})))]}},null,8,["options"]),s[7]||(s[7]=k("",8)),a("p",null,[a("label",_,[s[2]||(s[2]=a("span",null,"Window size (n):",-1)),g(a("input",{type:"range","onUpdate:modelValue":s[0]||(s[0]=o=>i.value=o),min:"1",max:"100",step:"1"},null,512),[[u,i.value,void 0,{number:!0}]]),a("span",P,y(i.value.toLocaleString("en-US")),1)]),a("label",w,[s[3]||(s[3]=a("span",null,"Radius (k):",-1)),g(a("input",{type:"range","onUpdate:modelValue":s[1]||(s[1]=o=>t.value=o),min:"0",max:"10",step:"0.1"},null,512),[[u,t.value,void 0,{number:!0}]]),a("span",T,y(t.value.toLocaleString("en-US")),1)])]),r(h,{defer:"",options:{y:{grid:!0},marks:[x(n(l),F({y1:E({n:i.value,k:-t.value}),y2:E({n:i.value,k:t.value})},{x:"Date",y:"Close",fillOpacity:.2})),e(n(l),F({y:E({n:i.value})},{x:"Date",y:"Close",stroke:"var(--vp-c-blue)"})),e(n(l),{x:"Date",y:"Close",strokeWidth:1})]}},null,8,["options"]),s[8]||(s[8]=k("",17))])}}});export{I as __pageData,N as default};
