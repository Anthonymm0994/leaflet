import{c as r,b as k,bk as h,M as u,aY as v,w as m,aC as b,bl as F,bm as C}from"./chunks/theme.C_36pXDy.js";import{D as o,v as B,C as f,c as w,o as x,j as i,G as e,ah as n,a}from"./chunks/framework.DM5DyJ2q.js";const q={id:"difference-mark",tabindex:"-1"},_={id:"differenceX",tabindex:"-1"},S=JSON.parse('{"title":"Difference mark","description":"","frontmatter":{},"headers":[],"relativePath":"marks/difference.md","filePath":"marks/difference.md"}'),T={name:"marks/difference.md"},Y=Object.assign(T,{setup(A){const d=o([]),E=o([]),g=o([{Date:new Date("2020-01-01")}]),y=o([{date:new Date("2020-01-01")}]);return B(()=>{r("../data/aapl.csv",k).then(t=>d.value=t),r("../data/gistemp.csv",k).then(t=>E.value=t),r("../data/tsa.csv",k).then(t=>g.value=t),r("../data/sf-sj-temperatures.csv",k).then(t=>y.value=t.filter(s=>s.date.getUTCFullYear()===2020))}),(t,s)=>{const c=f("VersionBadge"),l=f("PlotRender");return x(),w("div",null,[i("h1",q,[s[0]||(s[0]=a("Difference mark ")),e(c,{version:"0.6.12",pr:"1896"}),s[1]||(s[1]=a()),s[2]||(s[2]=i("a",{class:"header-anchor",href:"#difference-mark","aria-label":'Permalink to "Difference mark <VersionBadge version="0.6.12" pr="1896" />"'},"​",-1))]),s[10]||(s[10]=i("p",null,[a("The "),i("strong",null,"difference mark"),a(" puts a metric in context by comparing it. Like the "),i("a",{href:"./area"},"area mark"),a(", the region between two lines is filled; unlike the area mark, alternating color shows when the metric is above or below the comparison value.")],-1)),s[11]||(s[11]=i("p",null,[a("In the simplest case, the difference mark compares a metric to a constant. For example, the plot below shows the "),i("a",{href:"https://data.giss.nasa.gov/gistemp/",target:"_blank",rel:"noreferrer"},"global surface temperature anomaly"),a(" from 1880–2016; 0° represents the 1951–1980 average; above-average temperatures are in "),i("span",{style:{"border-bottom":"solid var(--vp-c-red) 3px"}},"red"),a(", while below-average temperatures are in "),i("span",{style:{"border-bottom":"solid var(--vp-c-blue) 3px"}},"blue"),a(". (It’s getting hotter.)")],-1)),e(l,{mark:h(E.value,{x:"Date",y:"Anomaly",positiveFill:"var(--vp-c-red)",negativeFill:"var(--vp-c-blue)",tip:!0}),options:{y:{grid:!0}}},null,8,["mark"]),s[12]||(s[12]=n("",2)),e(l,{mark:h(E.value,u(12*2,{x:"Date",y:"Anomaly",positiveFill:"var(--vp-c-red)",negativeFill:"var(--vp-c-blue)",tip:!0})),options:{y:{grid:!0}}},null,8,["mark"]),s[13]||(s[13]=n("",2)),e(l,{options:{x:{tickFormat:"%b"},y:{grid:!0,label:"Travelers"},marks:[v({label:"Travelers per day (thousands, 2020 vs. 2019)",tickFormat:p=>p/1e3}),m([0]),h(g.value,{x:"Date",y1:"2019",y2:"2020",tip:{format:{x:"%B %-d"}}})]}},null,8,["options"]),s[14]||(s[14]=n("",2)),e(l,{options:{x:{tickFormat:"%b"},y:{grid:!0},marks:[m([32]),h(y.value,u(14,b({y1:F(p=>p.station==="SJ"),y2:F(p=>p.station==="SF")},{x:"date",y:"tmin",tip:!0})))]}},null,8,["options"]),s[15]||(s[15]=n("",2)),e(l,{mark:h(d.value,C("+1 year",{x:"Date",y:"Close"})),options:{y:{grid:!0}}},null,8,["mark"]),s[16]||(s[16]=n("",14)),i("h2",_,[s[3]||(s[3]=a("differenceX(")),s[4]||(s[4]=i("em",null,"data",-1)),s[5]||(s[5]=a(", ")),s[6]||(s[6]=i("em",null,"options",-1)),s[7]||(s[7]=a(") ")),e(c,{version:"0.6.16",pr:"1922"}),s[8]||(s[8]=a()),s[9]||(s[9]=i("a",{class:"header-anchor",href:"#differenceX","aria-label":'Permalink to "differenceX(*data*, *options*) <VersionBadge version="0.6.16" pr="1922" /> {#differenceX}"'},"​",-1))]),s[17]||(s[17]=n("",2))])}}});export{S as __pageData,Y as default};
