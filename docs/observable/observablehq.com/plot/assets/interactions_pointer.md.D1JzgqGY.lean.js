import{p as c,D as g,v as A,C as q,c as b,o as C,j as i,G as o,ah as n,a,t as v,a2 as r,aj as w,al as E}from"./chunks/framework.DM5DyJ2q.js";import{c as y,b as u,e as m,aK as D,a as f,w as V,y as S,N as x,aL as I,G as j,t as X,aM as _,aN as Y}from"./chunks/theme.C_36pXDy.js";const N={id:"pointer-transform",tabindex:"-1"},R={style:{"border-bottom":"solid 2px currentColor"}},O={class:"label-input"},z={key:0},M={key:1},U={class:"label-input"},L={style:{"margin-left":"0.5em"}},$={style:{"margin-left":"0.5em"}},W={style:{"margin-left":"0.5em"}},G={class:"language-js vp-adaptive-theme"},H={class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},J={class:"line"},K={style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},Q={class:"label-input"},Z={style:{"margin-left":"0.5em"}},ss={style:{"margin-left":"0.5em"}},is={class:"language-js vp-adaptive-theme"},ts={class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},as={class:"line"},ns={style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},os=JSON.parse('{"title":"Pointer transform","description":"","frontmatter":{},"headers":[],"relativePath":"interactions/pointer.md","filePath":"interactions/pointer.md"}'),es={name:"interactions/pointer.md"},rs=Object.assign(es,{setup(ls){const d=c(!0),l=g([]),B=g([]),T=g([]),F=g([]),h=c("x"),p=c("x");return A(()=>{y("../data/aapl.csv",u).then(e=>l.value=e),y("../data/athletes.csv",u).then(e=>T.value=e),y("../data/bls-industry-unemployment.csv",u).then(e=>B.value=e),y("../data/penguins.csv",u).then(e=>F.value=e)}),(e,s)=>{const P=q("VersionBadge"),k=q("PlotRender");return C(),b("div",null,[i("h1",N,[s[6]||(s[6]=a("Pointer transform ")),o(P,{version:"0.6.7"}),s[7]||(s[7]=a()),s[8]||(s[8]=i("a",{class:"header-anchor",href:"#pointer-transform","aria-label":'Permalink to "Pointer transform <VersionBadge version="0.6.7" />"'},"​",-1))]),s[35]||(s[35]=i("p",null,[a("The "),i("strong",null,"pointer transform"),a(" filters a mark interactively such that only the point closest to the pointer is rendered. It is typically used to show details on hover, often with a "),i("a",{href:"./../marks/tip"},"tip"),a(" or "),i("a",{href:"./crosshair"},"crosshair"),a(" mark, but it can be paired with any mark.")],-1)),i("p",null,[s[9]||(s[9]=a("To demonstrate, below the pointer transform filters a filled ")),s[10]||(s[10]=i("span",{style:{"border-bottom":"solid 2px var(--vp-c-red)"}},"red",-1)),s[11]||(s[11]=a(" dot behind a stroked ")),i("span",R,v(e.$dark?"white":"black"),1),s[12]||(s[12]=a(" dot. As you hover the chart, only the closest red dot to the pointer is rendered. If you remove the pointer transform by toggling the checkbox, all the red dots will be visible."))]),i("p",null,[i("label",O,[s[13]||(s[13]=a(" Use pointer: ")),r(i("input",{type:"checkbox","onUpdate:modelValue":s[0]||(s[0]=t=>d.value=t)},null,512),[[w,d.value]])])]),o(k,{defer:"",options:{marks:[m(F.value,(d.value?D:t=>t)({x:"culmen_length_mm",y:"culmen_depth_mm",fill:"var(--vp-c-red)",r:8})),m(F.value,{x:"culmen_length_mm",y:"culmen_depth_mm"})]}},null,8,["options"]),s[36]||(s[36]=n("",1)),d.value?(C(),b("div",z,s[14]||(s[14]=[n("",1)]))):(C(),b("div",M,s[15]||(s[15]=[n("",1)]))),s[37]||(s[37]=n("",3)),i("p",null,[i("span",U,[s[19]||(s[19]=a(" Pointing mode: ")),i("label",L,[r(i("input",{type:"radio",name:"linetip",value:"xy","onUpdate:modelValue":s[1]||(s[1]=t=>h.value=t)},null,512),[[E,h.value]]),s[16]||(s[16]=a(" pointer"))]),i("label",$,[r(i("input",{type:"radio",name:"linetip",value:"x","onUpdate:modelValue":s[2]||(s[2]=t=>h.value=t)},null,512),[[E,h.value]]),s[17]||(s[17]=a(" pointerX"))]),i("label",W,[r(i("input",{type:"radio",name:"linetip",value:"y","onUpdate:modelValue":s[3]||(s[3]=t=>h.value=t)},null,512),[[E,h.value]]),s[18]||(s[18]=a(" pointerY"))])])]),o(k,{defer:"",mark:f(l.value,{x:"Date",y:"Close",tip:h.value}),options:{}},null,8,["mark"]),s[38]||(s[38]=i("a",{class:"plot-fork no-icon",href:"https://observablehq.com/@observablehq/plot-pointer-modes-x-y-and-xy",target:"_blank",title:"Open on Observable"},"Fork",-1)),i("div",G,[s[24]||(s[24]=i("button",{title:"Copy Code",class:"copy"},null,-1)),s[25]||(s[25]=i("span",{class:"lang"},"js",-1)),i("pre",H,[i("code",null,[i("span",J,[s[20]||(s[20]=n("",7)),i("span",K,'"'+v(h.value)+'"',1),s[21]||(s[21]=i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}).",-1)),s[22]||(s[22]=i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"plot",-1)),s[23]||(s[23]=i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"()",-1))])])])]),s[39]||(s[39]=i("p",null,[a("“One-dimensional” is a slight misnomer: the pointerX and pointerY transforms consider distance in both dimensions, but the distance along the non-dominant dimension is divided by 100. Below, the pointerX transform is applied to a multi-series line chart; the closest point in "),i("em",null,"x"),a(" is chosen, while "),i("em",null,"y"),a(" is used to “break ties” such that you can focus different series by moving the mouse vertically.")],-1)),o(k,{defer:"",options:{marks:[V([0]),f(B.value,{x:"date",y:"unemployed",stroke:"industry",tip:"x"})]}},null,8,["options"]),s[40]||(s[40]=n("",3)),i("p",null,[i("span",Q,[s[28]||(s[28]=a(" Pointing mode: ")),i("label",Z,[r(i("input",{type:"radio",name:"recttip",value:"xy","onUpdate:modelValue":s[4]||(s[4]=t=>p.value=t)},null,512),[[E,p.value]]),s[26]||(s[26]=a(" pointer"))]),i("label",ss,[r(i("input",{type:"radio",name:"recttip",value:"x","onUpdate:modelValue":s[5]||(s[5]=t=>p.value=t)},null,512),[[E,p.value]]),s[27]||(s[27]=a(" pointerX"))])])]),o(k,{defer:"",options:{x:{label:"Daily volume (log₁₀)"},marks:[S(l.value,x({y:"count"},{x:t=>Math.log10(t.Volume),thresholds:40,tip:p.value})),m(l.value,I(x({y:"count"},{x:t=>Math.log10(t.Volume),thresholds:40,stroke:"var(--vp-c-red)"})))]}},null,8,["options"]),s[41]||(s[41]=i("a",{class:"plot-fork no-icon",href:"https://observablehq.com/@observablehq/plot-one-dimensional-pointing",target:"_blank",title:"Open on Observable"},"Fork",-1)),i("div",is,[s[33]||(s[33]=i("button",{title:"Copy Code",class:"copy"},null,-1)),s[34]||(s[34]=i("span",{class:"lang"},"js",-1)),i("pre",ts,[i("code",null,[s[31]||(s[31]=n("",6)),i("span",as,[s[29]||(s[29]=n("",17)),i("span",ns,'"'+v(p.value)+'"',1),s[30]||(s[30]=i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"})),",-1))]),s[32]||(s[32]=n("",6))])])]),s[42]||(s[42]=n("",4)),o(k,{defer:"",options:{height:160,y:{axis:"right",grid:!0,nice:!0},marks:[f(l.value,{x:"Date",y:"Close"}),j(l.value,_({x:"Date",py:"Close",stroke:"var(--vp-c-red)"})),m(l.value,_({x:"Date",y:"Close",stroke:"var(--vp-c-red)"})),X(l.value,_({px:"Date",py:"Close",dy:-17,frameAnchor:"top-left",fontVariant:"tabular-nums",text:t=>[`Date ${Y(t.Date)}`,`Close ${t.Close.toFixed(2)}`].join("   ")}))]}},null,8,["options"]),s[43]||(s[43]=n("",21))])}}});export{os as __pageData,rs as default};
