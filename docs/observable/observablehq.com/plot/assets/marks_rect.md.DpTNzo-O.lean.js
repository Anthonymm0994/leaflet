import{p as P,D as E,h as v,v as A,C as w,c as S,o as I,ah as a,G as l,j as i,k as D,t as g,a as y,a2 as V,ak as j}from"./chunks/framework.DM5DyJ2q.js";import{bG as Y,aG as R,r as _,aI as f,l as B,c,b as u,A as N,bH as F,y as h,N as k,w as r,bo as O,b1 as X,q as M}from"./chunks/theme.C_36pXDy.js";import{f as U}from"./chunks/feature.DXDMwmIR.js";const $={class:"language-js vp-adaptive-theme"},z={class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},H={class:"line"},G={style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},L={class:"language-js vp-adaptive-theme"},W={class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},J={class:"line"},K={style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},Q={class:"label-input",style:{display:"flex"}},Z={style:{"font-variant-numeric":"tabular-nums"}},ss={class:"language-js vp-adaptive-theme"},is={class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},as={class:"line"},ts={style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},ks=JSON.parse('{"title":"Rect mark","description":"","frontmatter":{},"headers":[],"relativePath":"marks/rect.md","filePath":"marks/rect.md"}'),ns={name:"marks/rect.md"},rs=Object.assign(ns,{setup(es){const o=P(4),m=E([]),C=E([]),p=E([{weight:31,height:1.21,sex:"female"},{weight:170,height:2.21,sex:"male"}]),b=E([]),d=E(null),T=v(()=>d.value?U(d.value,d.value.objects.counties).features:[]),x=v(()=>T.value.map(t=>Y(t).flat())),q=R()(_(1e3).map(f.source(B(42))()));return A(()=>{c("../data/athletes.csv",u).then(t=>p.value=t),c("../data/diamonds.csv",u).then(t=>m.value=t),c("../data/seattle-weather.csv",u).then(t=>C.value=t),c("../data/povcalnet.csv",u).then(t=>b.value=t),N("../data/us-counties-10m.json").then(t=>d.value=t)}),(t,s)=>{const n=w("PlotRender");return I(),S("div",null,[s[21]||(s[21]=a("",2)),l(n,{defer:"",options:{projection:"albers-usa",marks:[F(x.value,{x1:"0",y1:"1",x2:"2",y2:"3",stroke:"currentColor"})]}},null,8,["options"]),s[22]||(s[22]=a("",3)),l(n,{mark:h(D(q),{x1:"x0",x2:"x1",y:"length"}),options:{round:!0}},null,8,["mark"]),s[23]||(s[23]=a("",5)),l(n,{mark:h(_(1e3).map(f.source(B(42))()),k()),options:{}},null,8,["mark"]),s[24]||(s[24]=a("",3)),l(n,{defer:"",options:{color:{legend:!0},marks:[h(p.value,k({y:"count"},{x:"weight",fill:"sex"})),r([0])]}},null,8,["options"]),s[25]||(s[25]=a("",3)),l(n,{defer:"",options:{round:!0,color:{legend:!0},marks:[h(p.value,k({y2:"count"},{x:"weight",fill:"sex",mixBlendMode:t.$dark?"screen":"multiply"})),r([0])]}},null,8,["options"]),s[26]||(s[26]=i("a",{class:"plot-fork no-icon",href:"https://observablehq.com/@observablehq/plot-overlapping-histogram",target:"_blank",title:"Open on Observable"},"Fork",-1)),i("div",$,[s[5]||(s[5]=i("button",{title:"Copy Code",class:"copy"},null,-1)),s[6]||(s[6]=i("span",{class:"lang"},"js",-1)),i("pre",z,[i("code",null,[s[3]||(s[3]=a("",8)),i("span",H,[s[1]||(s[1]=a("",11)),i("span",G,'"'+g(t.$dark?"screen":"multiply")+'"',1),s[2]||(s[2]=i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"})),",-1))]),s[4]||(s[4]=a("",6))])])]),s[27]||(s[27]=i("div",{class:"warning custom-block"},[i("p",{class:"custom-block-title"},"CAUTION"),i("p",null,[y("While the "),i("strong",null,"mixBlendMode"),y(" option is useful for mitigating occlusion, it can be slow to render if there are many elements. More than two overlapping histograms may also be hard to read.")])],-1)),s[28]||(s[28]=i("p",null,[y("The rect mark and bin transform naturally support "),i("a",{href:"./../features/facets"},"faceting"),y(", too.")],-1)),l(n,{defer:"",options:{marks:[h(p.value,k({y:"count"},{x:"weight",fy:"sex"})),r([0])]}},null,8,["options"]),s[29]||(s[29]=a("",3)),l(n,{defer:"",options:{height:640,marginLeft:60,color:{scheme:t.$dark?"turbo":"YlGnBu",type:"symlog"},marks:[F(m.value,O({fill:"count"},{x:"carat",y:"price",thresholds:100}))]}},null,8,["options"]),s[30]||(s[30]=i("a",{class:"plot-fork no-icon",href:"https://observablehq.com/@observablehq/plot-continuous-dimensions-heatmap",target:"_blank",title:"Open on Observable"},"Fork",-1)),i("div",L,[s[11]||(s[11]=i("button",{title:"Copy Code",class:"copy"},null,-1)),s[12]||(s[12]=i("span",{class:"lang"},"js",-1)),i("pre",W,[i("code",null,[s[9]||(s[9]=a("",8)),i("span",J,[s[7]||(s[7]=i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    scheme: ",-1)),i("span",K,'"'+g(t.$dark?"turbo":"YlGnBu")+'"',1),s[8]||(s[8]=i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",",-1))]),s[10]||(s[10]=a("",12))])])]),s[31]||(s[31]=a("",2)),l(n,{defer:"",options:{x:{label:"Population (millions)"},y:{percent:!0,label:"Proportion living on less than $30 per day (%)"},marks:[h(b.value,X({filter:e=>["N","A"].includes(e.CoverageType),x:"ReqYearPopulation",order:"HeadCount",reverse:!0,y2:"HeadCount",title:e=>`${e.CountryName}
${(e.HeadCount*100).toFixed(1)}%`,insetLeft:.2,insetRight:.2})),r([0])]}},null,8,["options"]),s[32]||(s[32]=a("",3)),l(n,{defer:"",options:{aspectRatio:1,y:{ticks:12,tickFormat:M("en","narrow")},marks:[F(C.value.filter(e=>e.date.getUTCFullYear()===2015),{x:e=>e.date.getUTCDate(),y:e=>e.date.getUTCMonth(),interval:1,fill:"temp_max",inset:.5})]}},null,8,["options"]),s[33]||(s[33]=a("",4)),i("p",null,[i("label",Q,[s[13]||(s[13]=i("span",{style:{display:"inline-block",width:"7em"}},"r:",-1)),V(i("input",{type:"range","onUpdate:modelValue":s[0]||(s[0]=e=>o.value=e),min:"0",max:"25",step:"0.2"},null,512),[[j,o.value,void 0,{number:!0}]]),i("span",Z,g(o.value),1)])]),l(n,{defer:"",options:{marks:[h(p.value,k({y:"count"},{x:"weight",r:o.value,thresholds:10})),r([0])]}},null,8,["options"]),s[34]||(s[34]=a("",1)),i("div",ss,[s[19]||(s[19]=i("button",{title:"Copy Code",class:"copy"},null,-1)),s[20]||(s[20]=i("span",{class:"lang"},"js",-1)),i("pre",is,[i("code",null,[s[17]||(s[17]=a("",4)),i("span",as,[s[14]||(s[14]=a("",8)),i("span",ts,", r: "+g(o.value)+", thresholds: ",1),s[15]||(s[15]=i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"10",-1)),s[16]||(s[16]=i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"})),",-1))]),s[18]||(s[18]=a("",6))])])]),s[35]||(s[35]=a("",1)),l(n,{defer:"",options:{color:{legend:!0},marks:[h(p.value,k({y:"count"},{x:"weight",fill:"sex",ry2:4,ry1:-4,clip:"frame"})),r([0])]}},null,8,["options"]),s[36]||(s[36]=a("",3)),l(n,{defer:"",options:{color:{legend:!0},marks:[h(p.value,k({y:"count"},{x:"weight",fill:"sex",rx1y2:10,rx1y1:-10,clip:"frame"})),r([0])]}},null,8,["options"]),s[37]||(s[37]=a("",17))])}}});export{ks as __pageData,rs as default};
