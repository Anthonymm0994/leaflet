import{p as C,h as B,D as _,v as q,C as m,c as x,o as T,ah as a,G as e,j as i,t as d,a as t,a2 as c,al as b}from"./chunks/framework.DM5DyJ2q.js";import{c as w,b as P,y as E,w as o,N as p,bH as g,bR as A,G as S,bS as I,bo as u,e as y,j,a as Y,bT as V,bU as X}from"./chunks/theme.C_36pXDy.js";const D={class:"language-js vp-adaptive-theme"},N={class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},O={class:"line"},R={style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},z={class:"language-js vp-adaptive-theme"},G={class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},$={class:"line"},M={style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},W={class:"language-js vp-adaptive-theme"},L={class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},H={class:"line"},U={style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},J={class:"label-input"},K={style:{"margin-left":"0.5em","font-variant":"tabular-nums"}},Q={style:{"margin-left":"0.5em","font-variant":"tabular-nums"}},Z={class:"language-js vp-adaptive-theme"},ss={class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},is={class:"line"},ts={style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},hs=JSON.parse('{"title":"Bin transform","description":"","frontmatter":{},"headers":[],"relativePath":"transforms/bin.md","filePath":"transforms/bin.md"}'),as={name:"transforms/bin.md"},ps=Object.assign(as,{setup(ns){const k=C("+1"),F=B(()=>+k.value),n=_([{weight:31,height:1.21,sex:"female"},{weight:170,height:2.21,sex:"male"}]);return q(()=>{w("../data/athletes.csv",P).then(h=>n.value=h)}),(h,s)=>{const l=m("PlotRender"),f=m("VersionBadge");return T(),x("div",null,[s[43]||(s[43]=a("",4)),e(l,{defer:"",options:{y:{grid:!0},marks:[E(n.value,p({y:"count"},{x:"weight"})),o([0])]}},null,8,["options"]),s[44]||(s[44]=a("",4)),e(l,{defer:"",mark:g(n.value,p({fill:"count"},{x:"weight"})),options:{color:{scheme:h.$dark?"turbo":"YlGnBu"}}},null,8,["mark","options"]),s[45]||(s[45]=i("a",{class:"plot-fork no-icon",href:"https://observablehq.com/@observablehq/plot-color-bins",target:"_blank",title:"Open on Observable"},"Fork",-1)),i("div",D,[s[7]||(s[7]=i("button",{title:"Copy Code",class:"copy"},null,-1)),s[8]||(s[8]=i("span",{class:"lang"},"js",-1)),i("pre",N,[i("code",null,[s[6]||(s[6]=a("",4)),i("span",O,[s[2]||(s[2]=i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  .",-1)),s[3]||(s[3]=i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"plot",-1)),s[4]||(s[4]=i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"({color: {scheme: ",-1)),i("span",R,'"'+d(h.$dark?"turbo":"YlGnBu")+'"',1),s[5]||(s[5]=i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}})",-1))])])])]),s[46]||(s[46]=i("p",null,[t("You can partition bins using "),i("strong",null,"z"),t(". If "),i("strong",null,"z"),t(" is undefined, it defaults to "),i("strong",null,"fill"),t(" or "),i("strong",null,"stroke"),t(", if any. In conjunction with the rectY mark’s implicit "),i("a",{href:"./stack"},"stackY transform"),t(", this will produce a stacked histogram.")],-1)),e(l,{defer:"",options:{y:{grid:!0},color:{legend:!0},marks:[E(n.value,p({y:"count"},{x:"weight",fill:"sex"})),o([0])]}},null,8,["options"]),s[47]||(s[47]=a("",4)),e(l,{defer:"",options:{y:{grid:!0},marks:[E(n.value,p({y2:"count"},{x:"weight",fill:"sex",mixBlendMode:h.$dark?"screen":"multiply"})),o([0])]}},null,8,["options"]),s[48]||(s[48]=i("a",{class:"plot-fork no-icon",href:"https://observablehq.com/@observablehq/plot-overlapping-histogram",target:"_blank",title:"Open on Observable"},"Fork",-1)),i("div",z,[s[13]||(s[13]=i("button",{title:"Copy Code",class:"copy"},null,-1)),s[14]||(s[14]=i("span",{class:"lang"},"js",-1)),i("pre",G,[i("code",null,[s[11]||(s[11]=a("",6)),i("span",$,[s[9]||(s[9]=a("",11)),i("span",M,'"'+d(h.$dark?"screen":"multiply")+'"',1),s[10]||(s[10]=i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"})),",-1))]),s[12]||(s[12]=a("",6))])])]),s[49]||(s[49]=a("",4)),e(l,{defer:"",options:{x:{grid:!0},marks:[A(n.value,I({x:"count"},{y:"weight"})),S([0])]}},null,8,["options"]),s[50]||(s[50]=a("",3)),e(l,{defer:"",mark:g(n.value,u({fill:"count"},{x:"weight",y:"height"})),options:{color:{scheme:h.$dark?"turbo":"YlGnBu"}}},null,8,["mark","options"]),s[51]||(s[51]=i("a",{class:"plot-fork no-icon",href:"https://observablehq.com/@observablehq/plot-olympians-heatmap",target:"_blank",title:"Open on Observable"},"Fork",-1)),i("div",W,[s[20]||(s[20]=i("button",{title:"Copy Code",class:"copy"},null,-1)),s[21]||(s[21]=i("span",{class:"lang"},"js",-1)),i("pre",L,[i("code",null,[s[19]||(s[19]=a("",4)),i("span",H,[s[15]||(s[15]=i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  .",-1)),s[16]||(s[16]=i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"plot",-1)),s[17]||(s[17]=i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"({color: {scheme: ",-1)),i("span",U,'"'+d(h.$dark?"turbo":"YlGnBu")+'"',1),s[18]||(s[18]=i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}})",-1))])])])]),s[52]||(s[52]=i("p",null,[t("The bin transform also outputs "),i("strong",null,"x"),t(" and "),i("strong",null,"y"),t(" channels representing bin centers. These can be used to place a "),i("a",{href:"./../marks/dot"},"dot mark"),t(" whose size again represents the number of athletes in each bin.")],-1)),e(l,{defer:"",options:{r:{range:[0,6]},marks:[y(n.value,u({r:"count"},{x:"weight",y:"height"}))]}},null,8,["options"]),s[53]||(s[53]=a("",3)),e(l,{options:{r:{range:[0,6]},marks:[y(n.value,u({r:"count"},{x:"weight",y:"height",stroke:"sex"}))]}},null,8,["options"]),s[54]||(s[54]=a("",3)),e(l,{options:{r:{range:[0,14]},marks:[y(n.value,p({r:"count"},{x:"weight"}))]}},null,8,["options"]),s[55]||(s[55]=a("",3)),e(l,{defer:"",options:{y:{grid:!0},marks:[j(n.value,p({y:"count",filter:null},{x:"weight",fillOpacity:.2})),Y(n.value,p({y:"count",filter:null},{x:"weight"})),o([0])]}},null,8,["options"]),s[56]||(s[56]=a("",3)),i("p",null,[i("span",J,[s[24]||(s[24]=t(" Cumulative: ")),i("label",K,[c(i("input",{type:"radio",name:"cumulative",value:"-1","onUpdate:modelValue":s[0]||(s[0]=r=>k.value=r)},null,512),[[b,k.value]]),s[22]||(s[22]=t(" -1 (reverse)"))]),i("label",Q,[c(i("input",{type:"radio",name:"cumulative",value:"+1","onUpdate:modelValue":s[1]||(s[1]=r=>k.value=r)},null,512),[[b,k.value]]),s[23]||(s[23]=t(" +1 (true)"))])])]),e(l,{options:{marginLeft:60,y:{grid:!0},marks:[E(n.value,p({y:"count"},{x:"weight",cumulative:F.value})),o([0])]}},null,8,["options"]),s[57]||(s[57]=a("",2)),e(l,{defer:"",options:{marginLeft:100,padding:0,x:{grid:!0},fy:{domain:V(n.value.filter(r=>r.weight),r=>X(r,v=>v.weight),r=>r.sport)},color:{scheme:h.$dark?"turbo":"YlGnBu"},marks:[g(n.value,p({fill:"proportion-facet"},{x:"weight",fy:"sport",inset:.5}))]}},null,8,["options"]),i("div",Z,[s[29]||(s[29]=i("button",{title:"Copy Code",class:"copy"},null,-1)),s[30]||(s[30]=i("span",{class:"lang"},"js",-1)),i("pre",ss,[i("code",null,[s[27]||(s[27]=a("",10)),i("span",is,[s[25]||(s[25]=i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  color: {scheme: ",-1)),i("span",ts,'"'+d(h.$dark?"turbo":"YlGnBu")+'"',1),s[26]||(s[26]=i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"},",-1))]),s[28]||(s[28]=a("",4))])])]),s[58]||(s[58]=i("p",null,[t("The bin transform sets default insets for a one-pixel gap between rects. You can set explicit insets if you prefer, say if you want the rects to touch. In this case we recommend rounding on the "),i("em",null,"x"),t(" scale to avoid antialiasing artifacts between rects.")],-1)),e(l,{defer:"",options:{x:{round:!0},y:{grid:!0},marks:[E(n.value,p({y:"count"},{x:"weight",inset:0})),o([0])]}},null,8,["options"]),s[59]||(s[59]=a("",10)),i("ul",null,[s[42]||(s[42]=a("",24)),i("li",null,[s[31]||(s[31]=i("em",null,"z",-1)),s[32]||(s[32]=t()),e(f,{version:"0.6.14",pr:"1959"}),s[33]||(s[33]=t(" - the bin’s ")),s[34]||(s[34]=i("em",null,"z",-1)),s[35]||(s[35]=t(" value (")),s[36]||(s[36]=i("em",null,"z",-1)),s[37]||(s[37]=t(", ")),s[38]||(s[38]=i("em",null,"fill",-1)),s[39]||(s[39]=t(", or ")),s[40]||(s[40]=i("em",null,"stroke",-1)),s[41]||(s[41]=t(")"))])]),s[60]||(s[60]=a("",33))])}}});export{hs as __pageData,ps as default};
