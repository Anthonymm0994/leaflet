import{s as _,c as T,b as P,x as g,w as E,aC as k,e as b,H as y,bC as A,k as f,G as B,h as w,aH as u,t as S,b1 as v,bP as q,bW as I,bX as F}from"./chunks/theme.C_36pXDy.js";import{D,v as j,C as x,c as V,o as R,ah as t,G as n,j as i,t as m,a,N as c,k as C}from"./chunks/framework.DM5DyJ2q.js";const X={class:"language-js vp-adaptive-theme"},O={class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},Y={class:"line"},z={style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},N={class:"language-js vp-adaptive-theme"},G={class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},M={class:"line"},W={style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},Z={class:"language-js vp-adaptive-theme"},$={class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},L={class:"line"},H={style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},K={class:"language-js vp-adaptive-theme"},J={class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},U={class:"line"},Q={style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},ss={id:"find",tabindex:"-1"},ls=JSON.parse('{"title":"Group transform","description":"","frontmatter":{},"headers":[],"relativePath":"transforms/group.md","filePath":"transforms/group.md"}'),is={name:"transforms/group.md"},es=Object.assign(is,{setup(as){const l=D([{weight:31,height:1.21,sex:"female"},{weight:170,height:2.21,sex:"male"}]),o=_({color:{type:"categorical"}}).range;return j(()=>{T("../data/athletes.csv",P).then(h=>l.value=h)}),(h,s)=>{const e=x("PlotRender"),d=x("VersionBadge");return R(),V("div",null,[s[71]||(s[71]=t("",4)),n(e,{defer:"",options:{marginBottom:100,x:{label:null,tickRotate:90},y:{grid:!0},marks:[g(l.value,k({y:"count"},{x:"sport"})),E([0])]}},null,8,["options"]),s[72]||(s[72]=t("",5)),n(e,{options:{marginBottom:100,x:{label:null,tickRotate:90},r:{range:[0,14]},marks:[b(l.value,k({r:"count"},{x:"sport"}))]}},null,8,["options"]),s[73]||(s[73]=t("",3)),n(e,{defer:"",options:{marginBottom:80,x:{tickRotate:90},color:{scheme:h.$dark?"turbo":"YlGnBu"},marks:[y(l.value,k({fill:"count"},{x:"sport"}))]}},null,8,["options"]),s[74]||(s[74]=i("a",{class:"plot-fork no-icon",href:"https://observablehq.com/@observablehq/plot-groups-as-cells",target:"_blank",title:"Open on Observable"},"Fork",-1)),i("div",X,[s[4]||(s[4]=i("button",{title:"Copy Code",class:"copy"},null,-1)),s[5]||(s[5]=i("span",{class:"lang"},"js",-1)),i("pre",O,[i("code",null,[s[2]||(s[2]=t("",6)),i("span",Y,[s[0]||(s[0]=i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  color: {scheme: ",-1)),i("span",z,'"'+m(h.$dark?"turbo":"YlGnBu")+'"',1),s[1]||(s[1]=i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"},",-1))]),s[3]||(s[3]=t("",8))])])]),i("p",null,[s[6]||(s[6]=a("We arenâ€™t limited to the ")),s[7]||(s[7]=i("em",null,"count",-1)),s[8]||(s[8]=a(" reducer. We can use the ")),s[9]||(s[9]=i("em",null,"mode",-1)),s[10]||(s[10]=a(" reducer, for example, to show which sex is more prevalent in each sport: ")),i("span",{style:c({borderBottom:`solid 2px ${C(o)[1]}`})},"men",4),s[11]||(s[11]=a(" are represented more often than ")),i("span",{style:c({borderBottom:`solid 2px ${C(o)[0]}`})},"women",4),s[12]||(s[12]=a(" in every sport except gymnastics and fencing."))]),n(e,{defer:"",options:{marginBottom:80,x:{tickRotate:90},marks:[y(l.value,k({fill:"mode"},{fill:"sex",x:"sport"}))]}},null,8,["options"]),s[75]||(s[75]=t("",3)),n(e,{defer:"",options:{marginBottom:100,x:{label:null,tickRotate:90},y:{grid:!0},color:{legend:!0},marks:[g(l.value,k({y:"count"},{x:"sport",fill:"sex"})),E([0])]}},null,8,["options"]),s[76]||(s[76]=t("",4)),n(e,{defer:"",options:{marginBottom:100,x:{label:null,tickRotate:90},y:{grid:!0},color:{legend:!0},marks:[g(l.value,k({y2:"count"},{x:"sport",fill:"sex",mixBlendMode:h.$dark?"screen":"multiply"})),E([0])]}},null,8,["options"]),s[77]||(s[77]=i("a",{class:"plot-fork no-icon",href:"https://observablehq.com/@observablehq/plot-two-class-overlapping-bars",target:"_blank",title:"Open on Observable"},"Fork",-1)),i("div",N,[s[17]||(s[17]=i("button",{title:"Copy Code",class:"copy"},null,-1)),s[18]||(s[18]=i("span",{class:"lang"},"js",-1)),i("pre",G,[i("code",null,[s[15]||(s[15]=t("",12)),i("span",M,[s[13]||(s[13]=t("",11)),i("span",W,'"'+m(h.$dark?"screen":"multiply")+'"',1),s[14]||(s[14]=i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"})),",-1))]),s[16]||(s[16]=t("",6))])])]),s[78]||(s[78]=t("",2)),n(e,{defer:"",options:{marginBottom:100,fx:{padding:0,label:null,tickRotate:90,tickSize:6},x:{axis:null,paddingOuter:.2},y:{grid:!0},color:{legend:!0},marks:[g(l.value,k({y2:"count"},{x:"sex",fx:"sport",fill:"sex"})),E([0])]}},null,8,["options"]),s[79]||(s[79]=t("",2)),i("p",null,[s[19]||(s[19]=a("Alternatively, below we use directional arrows (a ")),s[20]||(s[20]=i("a",{href:"./../marks/link"},"link mark",-1)),s[21]||(s[21]=a(" with ")),s[22]||(s[22]=i("a",{href:"./../features/markers"},"markers",-1)),s[23]||(s[23]=a(") to indicate the difference in counts of ")),i("span",{style:c({borderBottom:`solid 2px ${C(o)[1]}`})},"male",4),s[24]||(s[24]=a(" and ")),i("span",{style:c({borderBottom:`solid 2px ${C(o)[0]}`})},"female",4),s[25]||(s[25]=a(" athletes by sport. The color of the arrow indicates which sex is more prevalent, while its length is proportional to the difference."))]),n(e,{defer:"",options:{marginBottom:100,x:{label:null,tickRotate:90},y:{grid:!0,label:"Frequency"},color:{type:"categorical",domain:[-1,1],unknown:"#aaa",transform:Math.sign},marks:[E([0]),A(l.value,k({y1:p=>F(p,r=>r==="female"),y2:p=>F(p,r=>r==="male"),stroke:p=>F(p,r=>r==="male")-F(p,r=>r==="female")},{x:"sport",y1:"sex",y2:"sex",markerStart:"dot",markerEnd:"arrow",stroke:"sex",strokeWidth:2}))]}},null,8,["options"]),s[80]||(s[80]=t("",5)),n(e,{defer:"",options:{marginLeft:100,x:{grid:!0},y:{label:null},marks:[f(l.value,w({x:"count"},{y:"sport",sort:{y:"x"}})),B([0])]}},null,8,["options"]),s[81]||(s[81]=t("",3)),n(e,{defer:"",options:{marginBottom:80,x:{label:null,tickRotate:90},y:{label:null},color:{label:"Median weight (kg)",legend:!0,scheme:h.$dark?"turbo":"YlGnBu"},marks:[y(l.value,u({fill:"median"},{fill:"weight",x:"sport",y:"sex"}))]}},null,8,["options"]),s[82]||(s[82]=i("a",{class:"plot-fork no-icon",href:"https://observablehq.com/@observablehq/plot-grouped-olympians-heatmap",target:"_blank",title:"Open on Observable"},"Fork",-1)),i("div",Z,[s[30]||(s[30]=i("button",{title:"Copy Code",class:"copy"},null,-1)),s[31]||(s[31]=i("span",{class:"lang"},"js",-1)),i("pre",$,[i("code",null,[s[28]||(s[28]=t("",8)),i("span",L,[s[26]||(s[26]=t("",5)),i("span",H,'"'+m(h.$dark?"turbo":"YlGnBu")+'"',1),s[27]||(s[27]=i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"},",-1))]),s[29]||(s[29]=t("",8))])])]),s[83]||(s[83]=i("p",null,[a("Or, we could group athletes by sport and the number of gold medals ðŸ¥‡ won. ("),i("a",{href:"https://en.wikipedia.org/wiki/Michael_Phelps",target:"_blank",rel:"noreferrer"},"Michael Phelps"),a(", the most decorated Olympian of all time, won five gold medals in the 2016 Summer Olympics. "),i("a",{href:"https://en.wikipedia.org/wiki/Simone_Biles",target:"_blank",rel:"noreferrer"},"Simone Biles"),a(" and "),i("a",{href:"https://en.wikipedia.org/wiki/Katie_Ledecky",target:"_blank",rel:"noreferrer"},"Katie Ledecky"),a(" each won four.)")],-1)),n(e,{defer:"",options:{marginBottom:100,x:{label:null,tickRotate:90},y:{label:"gold",labelAnchor:"top",labelArrow:!0,reverse:!0},color:{type:"sqrt",scheme:h.$dark?"turbo":"YlGnBu"},marks:[y(l.value,u({fill:"count"},{x:"sport",y:"gold"}))]}},null,8,["options"]),s[84]||(s[84]=i("a",{class:"plot-fork no-icon",href:"https://observablehq.com/@observablehq/plot-olympians-by-gold-medals",target:"_blank",title:"Open on Observable"},"Fork",-1)),i("div",K,[s[38]||(s[38]=i("button",{title:"Copy Code",class:"copy"},null,-1)),s[39]||(s[39]=i("span",{class:"lang"},"js",-1)),i("pre",J,[i("code",null,[s[36]||(s[36]=t("",8)),i("span",U,[s[32]||(s[32]=i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  color: {type: ",-1)),s[33]||(s[33]=i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"sqrt"',-1)),s[34]||(s[34]=i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", scheme: ",-1)),i("span",Q,'"'+m(h.$dark?"turbo":"YlGnBu")+'"',1),s[35]||(s[35]=i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"},",-1))]),s[37]||(s[37]=t("",8))])])]),s[85]||(s[85]=i("p",null,[a("We could instead output "),i("strong",null,"r"),a(" and use a "),i("a",{href:"./../marks/dot"},"dot mark"),a(" whose size again represents the number of athletes in each group.")],-1)),n(e,{defer:"",options:{marginBottom:100,x:{label:null,tickRotate:90},y:{type:"point",label:"gold",labelAnchor:"top",labelArrow:!0,reverse:!0},r:{range:[0,12]},marks:[b(l.value,u({r:"count"},{x:"sport",y:"gold"}))]}},null,8,["options"]),s[86]||(s[86]=t("",3)),n(e,{defer:"",options:{marginBottom:100,x:{label:null,tickRotate:90},y:{type:"point",label:"gold",labelAnchor:"top",labelArrow:!0,reverse:!0},r:{range:[0,12]},marks:[b(l.value,u({r:"count"},{x:"sport",y:"gold",stroke:"sex"}))]}},null,8,["options"]),s[87]||(s[87]=t("",3)),n(e,{defer:"",options:{height:100,x:{percent:!0},marks:[f(l.value,v({order:"x",reverse:!0},q({x:"proportion"},{z:"sport",fillOpacity:.2,inset:.5}))),S(l.value,I(p=>p.length>200,v({order:"x",reverse:!0},q({x:"proportion",text:"first"},{z:"sport",text:"sport",rotate:90})))),B([0,1])]}},null,8,["options"]),s[88]||(s[88]=t("",12)),i("ul",null,[s[65]||(s[65]=t("",17)),i("li",null,[s[40]||(s[40]=i("em",null,"x",-1)),s[41]||(s[41]=a()),n(d,{version:"0.6.12",pr:"1916"}),s[42]||(s[42]=a(" - the groupâ€™s ")),s[43]||(s[43]=i("em",null,"x",-1)),s[44]||(s[44]=a(" value (when grouping on ")),s[45]||(s[45]=i("em",null,"x",-1)),s[46]||(s[46]=a(")"))]),i("li",null,[s[47]||(s[47]=i("em",null,"y",-1)),s[48]||(s[48]=a()),n(d,{version:"0.6.12",pr:"1916"}),s[49]||(s[49]=a(" - the groupâ€™s ")),s[50]||(s[50]=i("em",null,"y",-1)),s[51]||(s[51]=a(" value (when grouping on ")),s[52]||(s[52]=i("em",null,"y",-1)),s[53]||(s[53]=a(")"))]),i("li",null,[s[54]||(s[54]=i("em",null,"z",-1)),s[55]||(s[55]=a()),n(d,{version:"0.6.14",pr:"1959"}),s[56]||(s[56]=a(" - the groupâ€™s ")),s[57]||(s[57]=i("em",null,"z",-1)),s[58]||(s[58]=a(" value (")),s[59]||(s[59]=i("em",null,"z",-1)),s[60]||(s[60]=a(", ")),s[61]||(s[61]=i("em",null,"fill",-1)),s[62]||(s[62]=a(", or ")),s[63]||(s[63]=i("em",null,"stroke",-1)),s[64]||(s[64]=a(")"))])]),s[89]||(s[89]=t("",26)),i("h2",ss,[s[66]||(s[66]=a("find(")),s[67]||(s[67]=i("em",null,"test",-1)),s[68]||(s[68]=a(") ")),n(d,{version:"0.6.12",pr:"1914"}),s[69]||(s[69]=a()),s[70]||(s[70]=i("a",{class:"header-anchor",href:"#find","aria-label":'Permalink to "find(*test*) <VersionBadge version="0.6.12" pr="1914" /> {#find}"'},"â€‹",-1))]),s[90]||(s[90]=t("",2))])}}});export{ls as __pageData,es as default};
