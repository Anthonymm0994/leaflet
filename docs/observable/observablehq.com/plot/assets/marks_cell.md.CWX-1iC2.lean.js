import{b7 as F,r as y,c as E,b as r,H as k,t as m,o as u,a_ as C,b8 as b,q as f,aH as B,ae as _,b9 as v}from"./chunks/theme.C_36pXDy.js";import{a as q}from"./chunks/alphabet.B9gro12k.js";import{h as c}from"./chunks/hadcrut.DdjdvQsX.js";import{D as o,v as x,C as A,c as T,o as D,ah as n,G as p,k as d}from"./chunks/framework.DM5DyJ2q.js";const O=JSON.parse('{"title":"Cell mark","description":"","frontmatter":{},"headers":[],"relativePath":"marks/cell.md","filePath":"marks/cell.md"}'),w={name:"marks/cell.md"},V=Object.assign(w,{setup(P){const l=o([]),g=o([]),e=o(F(y(1,29),y(1,26),(t,i)=>({season:t,number_in_season:i})));return x(()=>{E("../data/dji.csv",r).then(t=>l.value=t),E("../data/seattle-weather.csv",r).then(t=>g.value=t),E("../data/simpsons.csv",r).then(t=>e.value=t)}),(t,i)=>{const h=A("PlotRender");return D(),T("div",null,[i[0]||(i[0]=n("",4)),p(h,{defer:"",options:{padding:0,grid:!0,x:{axis:"top",label:"Season"},y:{label:"Episode"},color:{type:"linear",scheme:"PiYG"},marks:[k(e.value,{x:"season",y:"number_in_season",fill:"imdb_rating",inset:.5}),m(e.value,{x:"season",y:"number_in_season",text:s=>{var a;return(a=s.imdb_rating)==null?void 0:a.toFixed(1)},fill:"black",title:"title"})]}},null,8,["options"]),i[1]||(i[1]=n("",3)),p(h,{defer:"",options:{padding:0,x:{axis:null},y:{tickFormat:u("en","narrow"),tickSize:0},fy:{tickFormat:""},color:{scheme:"PiYG"},marks:[k(l.value,{x:s=>C.count(b(s.Date),s.Date),y:s=>s.Date.getUTCDay(),fy:s=>s.Date.getUTCFullYear(),fill:(s,a)=>a>0?(s.Close-l.value[a-1].Close)/l.value[a-1].Close:NaN,title:(s,a)=>a>0?((s.Close-l.value[a-1].Close)/l.value[a-1].Close*100).toFixed(1):NaN,inset:.5})]}},null,8,["options"]),i[2]||(i[2]=n("",3)),p(h,{defer:"",options:{padding:0,y:{tickFormat:f("en","short")},marks:[k(g.value,B({fill:"max"},{x:s=>s.date.getUTCDate(),y:s=>s.date.getUTCMonth(),fill:"temp_max",inset:.5}))]}},null,8,["options"]),i[3]||(i[3]=n("",3)),p(h,{defer:"",options:{x:{ticks:e.value.filter(s=>s.number_in_season===1).map(s=>s.id),tickFormat:s=>e.value.find(a=>a.id===s).season,label:"Season",labelAnchor:"right",labelArrow:!0},color:{type:"linear",scheme:"PiYG"},marks:[k(e.value,{x:"id",fill:"imdb_rating"})]}},null,8,["options"]),i[4]||(i[4]=n("",4)),p(h,{mark:k(d(q),{x:"letter",fill:"frequency"}),options:{}},null,8,["mark"]),i[5]||(i[5]=n("",3)),p(h,{options:{x:{ticks:_(...v(d(c),s=>s.year),10),tickFormat:"d",interval:1,label:null},color:{scheme:"BuRd"},marks:[k(d(c),{x:"year",fill:"anomaly"})]}},null,8,["options"]),i[6]||(i[6]=n("",17))])}}});export{O as __pageData,V as default};
