import{p as F,h as u,D as h,v as I,C as w,c as V,o as N,j as i,G as o,ah as l,a as e,a2 as f,ak as T,t as b,ai as R}from"./chunks/framework.DM5DyJ2q.js";import{z,A as y,B as U,b as M,C as n,D as P,e as A,E as v,f as x,F as W}from"./chunks/theme.C_36pXDy.js";import{f as S}from"./chunks/feature.DXDMwmIR.js";import{m as G}from"./chunks/mesh.DUGB6pHu.js";const L={id:"projections",tabindex:"-1"},H={class:"label-input"},J={style:{"font-variant-numeric":"tabular-nums"}},Y={class:"label-input"},$={class:"language-js vp-adaptive-theme"},K={class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},Q={class:"line"},X={style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},Z={class:"label-input"},ss={style:{"font-variant-numeric":"tabular-nums"}},os=JSON.parse('{"title":"Projections","description":"","frontmatter":{},"headers":[],"relativePath":"features/projections.md","filePath":"features/projections.md"}'),is={name:"features/projections.md"},rs=Object.assign(is,{setup(as){const k=F(90),E=F(30),C=u(()=>z().center([9,34]).radius(E.value)()),d=F("equirectangular"),m=h({type:null}),j=h([]),_=h([]),g=h(null),c=u(()=>g.value?S(g.value,g.value.objects.land):{type:null}),r=h(null),q=u(()=>r.value?S(r.value,r.value.objects.nation):{type:null}),B=u(()=>r.value?G(r.value,r.value.objects.states,(a,s)=>a!==s):{type:null});return I(()=>{y("https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/2.5_week.geojson").then(a=>j.value=a.features.map(s=>({longitude:s.geometry.coordinates[0],latitude:s.geometry.coordinates[1],magnitude:s.properties.mag}))),y("../data/countries-110m.json").then(a=>g.value=a),U("../data/walmarts.tsv",M).then(a=>_.value=a),y("../data/westport-house.json").then(a=>m.value=a),y("../data/us-counties-10m.json").then(a=>r.value=a)}),(a,s)=>{const O=w("VersionBadge"),p=w("PlotRender");return N(),V("div",null,[i("h1",L,[s[3]||(s[3]=e("Projections ")),o(O,{version:"0.6.1"}),s[4]||(s[4]=e()),s[5]||(s[5]=i("a",{class:"header-anchor",href:"#projections","aria-label":'Permalink to "Projections <VersionBadge version="0.6.1" />"'},"​",-1))]),s[17]||(s[17]=i("p",null,[e("A "),i("strong",null,"projection"),e(" maps abstract coordinates in "),i("em",null,"x"),e(" and "),i("em",null,"y"),e(" to pixel positions on screen. Most often, abstract coordinates are spherical (degrees longitude and latitude), as when rendering a geographic map. For example, below we show earthquakes in the last seven days with a magnitude of 2.5 or higher as reported by the "),i("a",{href:"https://earthquake.usgs.gov/earthquakes/feed/v1.0/geojson.php",target:"_blank",rel:"noreferrer"},"USGS"),e(". Use the slider to adjust the "),i("em",null,"orthographic"),e(" projection’s center of longitude.")],-1)),i("p",null,[i("label",H,[s[6]||(s[6]=e(" Longitude: ")),f(i("input",{type:"range","onUpdate:modelValue":s[0]||(s[0]=t=>k.value=t),min:"-180",max:"180",step:"1"},null,512),[[T,k.value,void 0,{number:!0}]]),i("span",J,b(k.value)+"°",1)])]),o(p,{defer:"",options:{projection:{type:"orthographic",rotate:[-k.value,-30]},r:{transform:t=>Math.pow(10,t)},marks:[n(c.value,{fill:"currentColor",fillOpacity:.2}),P(),A(j.value,{x:"longitude",y:"latitude",r:"magnitude",stroke:"var(--vp-c-red)",fill:"var(--vp-c-red)",fillOpacity:.2})]}},null,8,["options"]),s[18]||(s[18]=l("",6)),i("p",null,[i("label",Y,[s[8]||(s[8]=e(" Projection: ")),f(i("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>d.value=t)},s[7]||(s[7]=[l("",11)]),512),[[R,d.value]])])]),o(p,{defer:"",options:{projection:d.value,marks:[v(),n(c.value,{fill:"currentColor"}),P()]}},null,8,["options"]),s[19]||(s[19]=i("a",{class:"plot-fork no-icon",href:"https://observablehq.com/@observablehq/plot-world-projections",target:"_blank",title:"Open on Observable"},"Fork",-1)),i("div",$,[s[14]||(s[14]=i("button",{title:"Copy Code",class:"copy"},null,-1)),s[15]||(s[15]=i("span",{class:"lang"},"js",-1)),i("pre",K,[i("code",null,[s[11]||(s[11]=i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"Plot."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"plot"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"({")],-1)),s[12]||(s[12]=e(`
`)),i("span",Q,[s[9]||(s[9]=i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  projection: ",-1)),i("span",X,'"'+b(d.value)+'"',1),s[10]||(s[10]=i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",",-1))]),s[13]||(s[13]=l("",12))])])]),s[20]||(s[20]=l("",4)),o(p,{defer:"",options:{projection:"albers-usa",marks:[n(q.value),n(B.value,{strokeOpacity:.2})]}},null,8,["options"]),s[21]||(s[21]=l("",4)),i("p",null,[i("label",Z,[s[16]||(s[16]=e(" Radius: ")),f(i("input",{type:"range","onUpdate:modelValue":s[2]||(s[2]=t=>E.value=t),min:"10",max:"50",step:"0.1"},null,512),[[T,E.value,void 0,{number:!0}]]),i("span",ss,b(E.value.toFixed(1))+"°",1)])]),o(p,{defer:"",options:{projection:{type:"azimuthal-equidistant",rotate:[-9,-34],domain:C.value,inset:10},marks:[v(),n(c.value,{fill:"currentColor",fillOpacity:.3}),n(C.value,{stroke:"var(--vp-c-red)",strokeWidth:2}),x()]}},null,8,["options"]),s[22]||(s[22]=l("",4)),o(p,{defer:"",options:{width:688,height:688,projection:({width:t,height:D})=>W().rotate([0,90]).translate([t/2,D/2]).scale(t).clipAngle(40),marks:[v(),n(c.value,{fill:"currentColor"}),x()]}},null,8,["options"]),s[23]||(s[23]=l("",3)),o(p,{defer:"",mark:n(m.value),options:{projection:{type:"identity",domain:m.value}}},null,8,["mark","options"]),s[24]||(s[24]=l("",4)),o(p,{defer:"",options:{marginLeft:0,marginRight:0,projection:"albers",fx:{interval:"10 years",tickFormat:t=>`${t.getUTCFullYear()}’s`,label:null},marks:[n(B.value,{strokeOpacity:.1}),n(q.value),A(_.value,{fx:"date",x:"longitude",y:"latitude",r:1,fill:"currentColor"})]}},null,8,["options"]),s[25]||(s[25]=l("",15))])}}});export{os as __pageData,rs as default};
