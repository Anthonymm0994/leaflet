import{p as D,D as E,h as B,v as S,C as x,c as j,o as I,ah as l,G as n,j as i,k as o,a,a2 as V,aj as O,t as N}from"./chunks/framework.DM5DyJ2q.js";import{bn as R,c as d,b as y,A as Y,e as k,w as c,G as F,bo as X,t as z,h as M,bp as W,aA as _,I as T,bq as U,C as H,br as $}from"./chunks/theme.C_36pXDy.js";import{f as G}from"./chunks/feature.DXDMwmIR.js";import{m as L}from"./chunks/mesh.DUGB6pHu.js";import{a as b}from"./chunks/alphabet.B9gro12k.js";import{c as A}from"./chunks/cars.D_dnXTJf.js";import{p as Q}from"./chunks/penguins.BmegR6FY.js";const J={class:"label-input"},K={class:"language-js vp-adaptive-theme"},Z={class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},ss={class:"line"},is={style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},as={id:"circle",tabindex:"-1"},ts={id:"hexagon",tabindex:"-1"},ds=JSON.parse('{"title":"Dot mark","description":"","frontmatter":{},"headers":[],"relativePath":"marks/dot.md","filePath":"marks/dot.md"}'),ns={name:"marks/dot.md"},gs=Object.assign(ns,{setup(ls){const u=D(!0),C=E([]),f=E([]),v=E([]),q=E([{Date:new Date("1880-01-01"),Anomaly:-.78},{Date:new Date("2016-12-01"),Anomaly:1.35}]),g=E([]),r=E(null),P=B(()=>r.value?L(r.value,r.value.objects.states):{type:null}),w=B(()=>r.value?G(r.value,r.value.objects.counties).features:[]),m=R({basis:"sum",z:"state",x:"population",y:"state"});return S(()=>{d("../data/aapl.csv",y).then(e=>C.value=e),d("../data/us-congress-2023.csv",y).then(e=>f.value=e),d("../data/diamonds.csv",y).then(e=>v.value=e),d("../data/gistemp.csv",y).then(e=>q.value=e),Promise.all([Y("../data/us-counties-10m.json"),d("../data/us-county-population.csv")]).then(([e,s])=>{const t=new Map(s.map(p=>[p.state+p.county,+p.population]));e.objects.counties.geometries.forEach(p=>p.properties.population=t.get(p.id)),r.value=e}),d("../data/us-population-state-age.csv",y).then(e=>{const s=e.columns.slice(1);g.value=Object.assign(s.flatMap(t=>e.map(p=>({state:p.name,age:t,population:p[t]}))),{ages:s})})}),(e,s)=>{const t=x("PlotRender"),p=x("VersionBadge");return I(),j("div",null,[s[38]||(s[38]=l("",2)),n(t,{mark:k(o(A),{x:"economy (mpg)",y:"power (hp)"}),options:{grid:!0}},null,8,["mark"]),s[39]||(s[39]=l("",3)),n(t,{options:{grid:!0,inset:10,x:{label:"Fuel consumption (gallons per 100 miles)"},y:{label:"Horsepower"},marks:[k(o(A),{x:h=>100/h["economy (mpg)"],y:"power (hp)"})]}},null,8,["options"]),s[40]||(s[40]=l("",3)),n(t,{defer:"",options:{y:{grid:!0,tickFormat:"+f",label:"Surface temperature anomaly (°F)"},color:{scheme:"BuRd"},marks:[c([0]),k(q.value,{x:"Date",y:"Anomaly",stroke:"Anomaly"})]}},null,8,["options"]),s[41]||(s[41]=l("",3)),n(t,{defer:"",options:{grid:!0,x:{label:"Daily change (%)",tickFormat:"+f",percent:!0},y:{type:"log",label:"Daily trading volume"},marks:[F([0]),k(C.value,{x:h=>(h.Close-h.Open)/h.Open,y:"Volume",r:"Volume"})]}},null,8,["options"]),s[42]||(s[42]=l("",3)),n(t,{defer:"",options:{height:640,marginLeft:60,grid:!0,x:{label:"Carats"},y:{label:"Price ($)"},r:{range:[0,20]},marks:[k(v.value,X({r:"count"},{x:"carat",y:"price",thresholds:100}))]}},null,8,["options"]),s[43]||(s[43]=l("",4)),n(t,{mark:k(o(b),{x:"letter",r:"frequency"}),options:{}},null,8,["mark"]),s[44]||(s[44]=l("",3)),n(t,{options:{x:{label:null,tickPadding:6,tickSize:0},y:{percent:!0},marks:[F(o(b),{x:"letter",y:"frequency",strokeWidth:2}),k(o(b),{x:"letter",y:"frequency",fill:"currentColor",r:4})]}},null,8,["options"]),s[45]||(s[45]=l("",3)),n(t,{defer:"",options:{height:660,axis:null,grid:!0,x:{axis:"top",label:"Population (%)",percent:!0},color:{scheme:"spectral",domain:g.value.ages,legend:!0},marks:[F([0]),c(g.value,M({x1:"min",x2:"max"},{...o(m),sort:{y:"x1"}})),k(g.value,{...o(m),fill:"age",title:"age"}),z(g.value,W({...o(m),textAnchor:"end",dx:-6,text:"state"}))]}},null,8,["options"]),s[46]||(s[46]=l("",5)),n(t,{defer:"",options:{grid:!0,x:{label:"Body mass (g)"},y:{label:"Flipper length (mm)"},symbol:{legend:!0},marks:[k(o(Q),{x:"body_mass_g",y:"flipper_length_mm",stroke:"species",symbol:"species"})]}},null,8,["options"]),s[47]||(s[47]=l("",3)),n(t,{mark:_(["circle","cross","diamond","square","star","triangle","wye"],{fill:"currentColor",symbol:T}),options:{}},null,8,["mark"]),s[48]||(s[48]=l("",2)),n(t,{mark:_(["circle","plus","times","triangle2","asterisk","square2","diamond2"],{stroke:"currentColor",symbol:T}),options:{}},null,8,["mark"]),s[49]||(s[49]=l("",3)),n(t,{defer:"",options:{aspectRatio:1,x:{label:"Age (years)"},y:{grid:!0,label:"← Women · Men →",labelAnchor:"center",tickFormat:Math.abs},marks:[k(f.value,U({x:h=>2023-h.birthday.getUTCFullYear(),y:h=>h.gender==="M"?1:-1,fill:"gender",title:"full_name"})),c([0])]}},null,8,["options"]),s[50]||(s[50]=l("",4)),i("p",null,[s[1]||(s[1]=a("Dots are sorted by descending radius by default ")),n(p,{version:"0.5.0"}),s[2]||(s[2]=a(" to mitigate occlusion; the smallest dots are drawn on top. Set the ")),s[3]||(s[3]=i("strong",null,"sort",-1)),s[4]||(s[4]=a(" option to null to draw them in input order. Use the checkbox below to see the effect of sorting on a bubble map of U.S. county population."))]),i("p",null,[i("label",J,[s[5]||(s[5]=a(" Use default sort: ")),V(i("input",{type:"checkbox","onUpdate:modelValue":s[0]||(s[0]=h=>u.value=h)},null,512),[[O,u.value]])])]),n(t,{defer:"",options:{projection:"albers-usa",marks:[H(P.value,{strokeOpacity:.4}),k(w.value,$({r:h=>h.properties.population,fill:"currentColor",stroke:"var(--vp-c-bg)",strokeWidth:1,sort:u.value?void 0:null}))]}},null,8,["options"]),s[51]||(s[51]=i("a",{class:"plot-fork no-icon",href:"https://observablehq.com/@observablehq/plot-dot-sort",target:"_blank",title:"Open on Observable"},"Fork",-1)),i("div",K,[s[10]||(s[10]=i("button",{title:"Copy Code",class:"copy"},null,-1)),s[11]||(s[11]=i("span",{class:"lang"},"js",-1)),i("pre",Z,[i("code",null,[s[8]||(s[8]=l("",14)),i("span",ss,[s[6]||(s[6]=i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"      stroke: ",-1)),i("span",is,'"'+N(e.$dark?"black":"white")+'"',1),s[7]||(s[7]=i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",",-1))]),s[9]||(s[9]=l("",10))])])]),s[52]||(s[52]=i("p",null,[a("The dot mark can also be used to construct a "),i("a",{href:"https://observablehq.com/@observablehq/qq-plot",target:"_blank",rel:"noreferrer"},"quantile-quantile (QQ) plot"),a(" for comparing two univariate distributions.")],-1)),s[53]||(s[53]=i("h2",{id:"dot-options",tabindex:"-1"},[a("Dot options "),i("a",{class:"header-anchor",href:"#dot-options","aria-label":'Permalink to "Dot options"'},"​")],-1)),s[54]||(s[54]=i("p",null,[a("In addition to the "),i("a",{href:"./../features/marks#mark-options"},"standard mark options"),a(", the following optional channels are supported:")],-1)),i("ul",null,[s[16]||(s[16]=l("",4)),i("li",null,[s[12]||(s[12]=i("strong",null,"symbol",-1)),s[13]||(s[13]=a(" - the categorical symbol; bound to the ")),s[14]||(s[14]=i("em",null,"symbol",-1)),s[15]||(s[15]=a(" scale ")),n(p,{version:"0.4.0"})])]),s[55]||(s[55]=i("p",null,[a("If either of the "),i("strong",null,"x"),a(" or "),i("strong",null,"y"),a(" channels are not specified, the corresponding position is controlled by the "),i("strong",null,"frameAnchor"),a(" option.")],-1)),s[56]||(s[56]=i("p",null,"The following dot-specific constant options are also supported:",-1)),i("ul",null,[s[21]||(s[21]=i("li",null,[i("strong",null,"r"),a(" - the effective radius (length); a number in pixels")],-1)),s[22]||(s[22]=i("li",null,[i("strong",null,"rotate"),a(" - the rotation angle in degrees clockwise; defaults to 0")],-1)),i("li",null,[s[17]||(s[17]=i("strong",null,"symbol",-1)),s[18]||(s[18]=a(" - the categorical symbol; defaults to ")),s[19]||(s[19]=i("em",null,"circle",-1)),s[20]||(s[20]=a()),n(p,{version:"0.4.0"})]),s[23]||(s[23]=i("li",null,[i("strong",null,"frameAnchor"),a(" - how to position the dot within the frame; defaults to "),i("em",null,"middle")],-1))]),s[57]||(s[57]=l("",13)),i("h2",as,[s[24]||(s[24]=a("circle(")),s[25]||(s[25]=i("em",null,"data",-1)),s[26]||(s[26]=a(", ")),s[27]||(s[27]=i("em",null,"options",-1)),s[28]||(s[28]=a(") ")),n(p,{version:"0.5.0"}),s[29]||(s[29]=a()),s[30]||(s[30]=i("a",{class:"header-anchor",href:"#circle","aria-label":'Permalink to "circle(*data*, *options*) <VersionBadge version="0.5.0" /> {#circle}"'},"​",-1))]),s[58]||(s[58]=i("p",null,[a("Equivalent to "),i("a",{href:"#dot"},"dot"),a(" except that the "),i("strong",null,"symbol"),a(" option is set to "),i("em",null,"circle"),a(".")],-1)),i("h2",ts,[s[31]||(s[31]=a("hexagon(")),s[32]||(s[32]=i("em",null,"data",-1)),s[33]||(s[33]=a(", ")),s[34]||(s[34]=i("em",null,"options",-1)),s[35]||(s[35]=a(") ")),n(p,{version:"0.5.0"}),s[36]||(s[36]=a()),s[37]||(s[37]=i("a",{class:"header-anchor",href:"#hexagon","aria-label":'Permalink to "hexagon(*data*, *options*) <VersionBadge version="0.5.0" /> {#hexagon}"'},"​",-1))]),s[59]||(s[59]=i("p",null,[a("Equivalent to "),i("a",{href:"#dot"},"dot"),a(" except that the "),i("strong",null,"symbol"),a(" option is set to "),i("em",null,"hexagon"),a(".")],-1))])}}});export{ds as __pageData,gs as default};
